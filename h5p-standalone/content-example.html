<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English A-Z Catalog - Content Example</title>
    <script src="./js/main.bundle.js" type="text/javascript"></script>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../fontawesome/css/all.min.css">
    <link rel="stylesheet" href="../css/templatemo-style.css">
    <link rel="stylesheet" href="../css/bootstrap-print.css">
    <script src="./js/print.min.js"></script>
    <script src="./js/studentinformation.js"></script>
    <script src="../js/jquery.min.js" type="text/javascript"></script>
    <script src="../js/jspdf.min.js" type="text/javascript"></script>
    <script src="../js/html2canvas.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="../css/print.min.css">
    <link rel="stylesheet" type="text/css" href="../css/hotpotato.css">
    <script src="../js/hotpotato.js" type="text/javascript"></script>

<!--
    
TemplateMo 556 Catalog-Z

https://templatemo.com/tm-556-catalog-z

-->
</head>
<body>
    <!-- Page Loader -->
    <div id="loader-wrapper">
        <div id="loader"></div>

        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>

    </div>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="">
                <i class="fas fa-film mr-2"></i>
                H5P Standalone
            </a> <!-- NAME of YOUR CONTENT -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link nav-link-1 active" aria-current="page" href="">Refresh</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-link-2" href="../index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-link-3" href="../about.html">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-link-4" href="../contact.html">Contact</a>
                </li>
            </ul>
            </div>
        </div>
    </nav>
	<div class="container">
	<legend class="text-center"><b>Student Information</b></legend>
    <form id="contactForm" data-sb-form-api-token="API_TOKEN">
        <div class="form-floating">
            <input class="form-control" id="name" type="text" placeholder="Name" data-sb-validations="required" />
            <label for="name"></label>
            <div class="invalid-feedback" data-sb-feedback="name:required">Name is required.</div>
        </div>
        <div class="form-floating">
            <input class="form-control" id="class" type="text" placeholder="Class" data-sb-validations="required" />
            <label for="class"></label>
            <div class="invalid-feedback" data-sb-feedback="class:required">Class is required.</div>
        </div>
        <div class="form-floating">
            <input class="form-control" id="studentNo" type="text" placeholder="Student No" data-sb-validations="required" />
            <label for="studentNo"></label>
            <div class="invalid-feedback" data-sb-feedback="studentNo:required">Student No is required.</div>
        </div>
        <div class="d-none" id="submitSuccessMessage">
            <div class="text-center">
                <div></div>
                </div>
        </div>
        <div class="d-none" id="submitErrorMessage">
            <div class="text-center text-danger">Error sending message!</div>
        </div>
        <div class="d-grid text-center">
            <button class="btn btn-primary btn-lg disabled text-center mb-3" id="submitButton" type="submit">SAVE</button>
        </div>
    </form>
    </div> 
        <div id="h5pcontent">
        <div id='h5p-container'></div>
    	<script type="text/javascript">
			const el = document.getElementById('h5p-container');
			const options = {
			h5pJsonPath:  './workspace/content-example', <!-- LOCATION of YOUR CONTENT -->
			frameJs: './js/frame.bundle.js',
			frameCss: './styles/h5p.css',
}
new H5PStandalone.H5P(el, options);
    </script>   
        </div>
    <footer class="tm-bg-gray pt-5 pb-3 tm-text-gray tm-footer d-print-none">
	<div class="container-fluid tm-container-small">
            <div class="row">
                <div class="col-lg-8 col-md-7 col-12 px-5 text-mb3">
		<button onClick="window.print()"><b>Download for Submission</b></button>
		<button onClick="screenshot()" id="but_screenshot"><b>Download Screenshot</b></button>
		<button onClick="getPDF()"><b>Download PDF</b></button>
                </div>
                <div class="col-lg-4 col-md-5 col-12 px-5 text-right">
                    Designed by <a href="" class="tm-text-gray" rel="sponsored" target="_parent">venturazz</a>
                </div>
            </div>
        </div>
    </footer>
    
    <script src="../js/plugins.js"></script>
    <script>
        $(window).on("load", function() {
            $('body').addClass('loaded');
        });
    </script>
 <script type='text/javascript'>
     function getPDF(){

		var HTML_Width = $(".canvas_div_pdf").width();
		var HTML_Height = $(".canvas_div_pdf").height();
		var top_left_margin = 15;
		var PDF_Width = HTML_Width+(top_left_margin*2);
		var PDF_Height = (PDF_Width*1.5)+(top_left_margin*2);
		var canvas_image_width = HTML_Width;
		var canvas_image_height = HTML_Height;
		
		var totalPDFPages = Math.ceil(HTML_Height/PDF_Height)-1;
		

		html2canvas($(".canvas_div_pdf")[0],{allowTaint:true}).then(function(canvas) {
			canvas.getContext('2d');
			
			console.log(canvas.height+"  "+canvas.width);
			
			
			var imgData = canvas.toDataURL("image/jpeg", 1.0);
			var pdf = new jsPDF('p', 'pt',  [PDF_Width, PDF_Height]);
		    pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin,canvas_image_width,canvas_image_height);
			
			
			for (var i = 1; i <= totalPDFPages; i++) { 
				pdf.addPage(PDF_Width, PDF_Height);
				pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height*i)+(top_left_margin*4),canvas_image_width,canvas_image_height);
			}
			
		    pdf.save("HTML-Document.pdf");
        });
	};
    </script>
    <script type='text/javascript'>
      function screenshot(){
  html2canvas(document.body).then((canvas) => {
    let a = document.createElement("a");
    a.download = "mywork.png";
    a.href = canvas.toDataURL("image/png");
    a.click(); // MAY NOT ALWAYS WORK!
  });
}
     </script>
</body>
</html>
